<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    {% include "messages.html" %}

    <script>
        function confirmDeletion(title) {
            return confirm("Are you sure you want to delete " + title + "?");
        }
    </script>

    <h1>{{game.title}}</h1>
    <a href="/games">Back</a>

    <h2>Title</h2>
    <form action="/games/{{game.ID}}/setTitle" method="POST">
        <input type="text" name="gameTitle" value="{{game.title}}">
        <input type="submit" value="Update">
    </form>

    <h2>Characters</h2>
    <!-- Show the name of each character and an animation -->
    <ul>
    </ul>

    <h2>Tilesets</h2>
    <!-- Show a list of tilesets with an option to edit -->
    <table border="1">
    {% for tileset in tilesets %}
        <a href="/games/{{game.ID}}/tilesets/{{tileset.name}}/edit">
            <img src="/{{tileset.path}}" width="128"></img>
        </a>
    {% endfor %}

    <!-- Tileset adder -->
    <form
        enctype=multipart/form-data
        action="/games/{{game.ID}}/tilesets/add"
        method="POST">
        <input type="file" name="file">
        <input type="submit" value="Add">
    </form>

    <h2>Levels</h2>
    <!-- Show a list of levels with an overview -->
    <table border="1">
        <!-- Header -->
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Floorplan</th>
            <th>Heightmap</th>
            <th>Delete</th>
        </tr>
        <!-- Level list -->
        {% for level in levels %}
            <tr>
                <td>{{level.ID}}</td>
                <td>{{level.name}}</td>
                <td><a href="">Edit</a></td>
                <td><a href="">Edit</a></td>
                <td>
                <form
                    method="POST"
                    action="/games/{{game.ID}}/levels/{{level.ID}}/delete"
                    onsubmit="return confirmDeletion('{{level.name}}');">
                    <input type="submit" value="DELETE">
                </form>
                </td>
            </tr>
        {% endfor %}
        </table>

    <!-- Level creator -->
    <form action="/games/{{game.ID}}/levels/new" method="POST">
        <input type="text" name="name" value="New Level">
        <input type="submit" value="Add">
    </form>
  </body>
</html>